{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst API_KEY = \"48313222-9e5699caa5ef89de4c12bc71b\"; \nconst BASE_URL = \"https://pixabay.com/api/\";\n\nconst form = document.querySelector(\"#search-form\");\nconst gallery = document.querySelector(\"#gallery\");\nconst loader = document.querySelector(\"#loader\");\n\nlet lightbox = new SimpleLightbox(\".gallery a\", {\n  captionsData: \"alt\",\n  captionDelay: 250,\n});\n\nform.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n  const query = event.target.searchQuery.value.trim();\n\n  if (!query) {\n    iziToast.error({\n      title: \"Error\",\n      message: \"Please enter a search query!\",\n    });\n    return;\n  }\n\n  fetchImages(query);\n});\n\nasync function fetchImages(query) {\n  showLoader(); \n\n  try {\n    const response = await fetch(\n      `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`\n    );\n    const data = await response.json();\n\n    if (data.hits.length === 0) {\n      iziToast.warning({\n        title: \"No Results\",\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n      });\n      gallery.innerHTML = \"\";\n      return;\n    }\n\n    renderGallery(data.hits);\n    lightbox.refresh();\n  } catch (error) {\n    iziToast.error({\n      title: \"Error\",\n      message: \"Failed to fetch images. Please try again later.\",\n    });\n  } finally {\n    hideLoader(); \n  }\n}\n\nfunction renderGallery(images) {\n  gallery.innerHTML = \"\";\n\n  const markup = images\n    .map(\n      (image) => `\n      <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n        <div class=\"gallery-info\">\n          <div>\n            <p><b>Likes:</b> ${image.likes}</p>\n            <p><b>Views:</b> ${image.views}</p>\n          </div>\n          <div>\n            <p><b>Comments:</b> ${image.comments}</p>\n            <p><b>Downloads:</b> ${image.downloads}</p>\n          </div>\n        </div>\n      </a>\n    `\n    )\n    .join(\"\");\n\n  gallery.innerHTML = markup;\n\n  lightbox.refresh();\n}\n\n\nfunction showLoader() {\n  loader.classList.remove(\"hidden\");\n}\n\nfunction hideLoader() {\n  loader.classList.add(\"hidden\");\n}\n\n\n"],"names":["API_KEY","BASE_URL","form","gallery","loader","lightbox","SimpleLightbox","event","query","iziToast","fetchImages","showLoader","data","renderGallery","hideLoader","images","markup","image"],"mappings":"6vBAKA,MAAMA,EAAU,qCACVC,EAAW,2BAEXC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAChB,CAAC,EAEDJ,EAAK,iBAAiB,SAAWK,GAAU,CACzCA,EAAM,eAAc,EACpB,MAAMC,EAAQD,EAAM,OAAO,YAAY,MAAM,OAE7C,GAAI,CAACC,EAAO,CACVC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACf,CAAK,EACD,MACD,CAEDC,EAAYF,CAAK,CACnB,CAAC,EAED,eAAeE,EAAYF,EAAO,CAChCG,IAEA,GAAI,CAIF,MAAMC,EAAO,MAHI,MAAM,MACrB,GAAGX,CAAQ,QAAQD,CAAO,MAAM,mBAAmBQ,CAAK,CAAC,0DAC/D,GACgC,OAE5B,GAAII,EAAK,KAAK,SAAW,EAAG,CAC1BH,EAAS,QAAQ,CACf,MAAO,aACP,QAAS,0EACjB,CAAO,EACDN,EAAQ,UAAY,GACpB,MACD,CAEDU,EAAcD,EAAK,IAAI,EACvBP,EAAS,QAAO,CACjB,MAAe,CACdI,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iDACf,CAAK,CACL,QAAY,CACRK,GACD,CACH,CAEA,SAASD,EAAcE,EAAQ,CAC7BZ,EAAQ,UAAY,GAEpB,MAAMa,EAASD,EACZ,IACEE,GAAU;AAAA,iBACAA,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,+BAG3BA,EAAM,KAAK;AAAA,+BACXA,EAAM,KAAK;AAAA;AAAA;AAAA,kCAGRA,EAAM,QAAQ;AAAA,mCACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAK7C,EACA,KAAK,EAAE,EAEVd,EAAQ,UAAYa,EAEpBX,EAAS,QAAO,CAClB,CAGA,SAASM,GAAa,CACpBP,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEA,SAASU,GAAa,CACpBV,EAAO,UAAU,IAAI,QAAQ,CAC/B"}